# CodePipeline

> CI/CD 과정의 모델링 및 시각화툴, 빌드를 진행하거나 배포를 진행하진않음


- 스테이지 서버 : 테스트를 위한 서버를 부르는 명칭
- CodeBuild : 완전관리형 빌드 서비스, 코드를 컴파일하고, 테스트하며, 패키징하기 위한 빌드 스크립트를 실
    - Buildspec : CodeBuild가 빌드를 실행하는 데 사용하는 YAML 형식의 빌드 명령 및 관련 설저의 모음, 소스 디렉토리의 루트(/)에 있어야함
    - pre_build : 빌드 수행하기 이전에 역할 수행, AWS ECR 인증, 이미지 태그 설정
    - build : 빌드 단계 수행, 빌드를 수행하는 명령어가 적힌 스크립트가 작성되있지만, Maven build 등 기타 Build tool 사용 가능 
    - post_build : 빌드가 끝난 후 진행해야하는 작업 수행, ECR로 푸시하여 최신버전의 도커이미지를 기반으로 하는 ECS 작업 정의 구성 실행 
- CodeDeploy : EC2, Lambda 등 인스턴스를 비롯한 다양한 컴퓨팅 서비스에 대한 소프트웨어 배포를 자동화하는 서비스

## 생성


1. Codepiplne 생성 - 이름

2. Codepiplne 생성 - 소스

3. Codepiplne 생성 - 빌드 
    - 빌드 사양 : buildspec.yml 사용
    - 캐시 : S3에 캐시를 저장할수 있음 , 캐싱되어있는 경우, 다음 업데이트가 빨라짐, 코드 빌드는 IAM 세팅으로 S3 읽고 쓰기 권한이 있어야함
    - 코드빌드 서비스 역할 : 역할 이름 : 종속 AWS 서비스를 호출할 수 있게 해주는 서비스 역할을 지정
    
4. IAM 생성

5. Codepiplne 생성 - 배포 

6. Codepiplne 생성 - 역할 

7. 역할 만들기 

8. 파이프 라인 생성

